@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --primary: #14396D;
  --secondary: #2379BC;
  --accent: #1B9195;
  --bg-primary: #f8fafc;
  --bg-secondary: #ffffff;
  --text-primary: #0f172a;
  --text-secondary: #64748b;
  --border-color: #f1f5f9;
  --radius-xl: 1.5rem;
  --radius-lg: 1rem;
}

body,
button,
input,
textarea,
select {
  font-family: 'Inter', sans-serif !important;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: colors 0.3s;
}

.dark {
  --primary: #2379BC;
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --text-primary: #f8fafc;
  --text-secondary: #94a3b8;
  --border-color: #334155;
}

.container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  overflow-x: hidden;
  transition: background-color 0.5s, color 0.5s;
}

@media (min-width: 1024px) {
  .container {
    flex-direction: row;
  }
}

.mainPane {
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 2.5rem;
  position: relative;
  z-index: 10;
  background-color: var(--bg-secondary);
  transition: background-color 0.5s;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

@media (min-width: 768px) {
  .mainPane {
    padding: 3.5rem;
  }
}

@media (min-width: 1024px) {
  .mainPane {
    width: 40%;
    padding: 5rem;
  }
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  background-color: rgba(20, 57, 109, 0.1);
  color: #14396D;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 1rem;
}

@media print {
  body {
    background: white !important;
    color: black !important;
  }

  .no-print {
    display: none !important;
  }

  button {
    display: none !important;
  }

  .bg-white,
  .bg-slate-50,
  .bg-slate-100 {
    background: white !important;
    border: 1px solid #eee !important;
  }

  .text-primary {
    color: black !important;
  }

  .shadow-sm,
  .shadow-md,
  .shadow-lg,
  .shadow-xl,
  .shadow-2xl {
    box-shadow: none !important;
  }

  [class*="rounded-[3rem]"],
  [class*="rounded-[2.5rem]"] {
    border-radius: 8px !important;
  }
}

/* ==========================================================================
   ACESSIBILIDADE E INCLUSÃO (CORE FUNCTIONS)
   ========================================================================== */

/* 1. MODO AUTISMO (TEA) - Redução de Sobrecarga */
.acc-autismo {
  --primary: #4A69BD;
  /* Azul marinho calmo */
  --bg-primary: #F1F2F6;
  --bg-secondary: #FFFFFF;
}

.acc-autismo * {
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: none !important;
  /* Remove sombras complexas que podem confundir */
  text-shadow: none !important;
}

.acc-autismo [class*="shadow-"],
.acc-autismo [class*="blur-"] {
  filter: none !important;
  box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.05) !important;
  /* Sombras extremamente sutis */
}

.acc-autismo img {
  filter: saturate(0.6) !important;
}

.acc-autismo .animate-pulse,
.acc-autismo .animate-bounce,
.acc-autismo .animate-spin {
  animation: none !important;
}

/* 2. MODO CEGO / DEFICIÊNCIA VISUAL - Extrema Legibilidade */
.acc-cego {
  font-size: 115% !important;
}

.acc-cego *:focus {
  outline: 5px solid #E11D48 !important;
  /* Destaque Rosa/Vermelho forte */
  outline-offset: 4px !important;
}

.acc-cego [role="button"],
.acc-cego button {
  min-height: 48px;
  /* Tamanho mínimo de toque/alvo conforme WCAG */
  min-width: 48px;
}

.acc-cego .text-slate-500,
.acc-cego .text-slate-400 {
  color: #1e293b !important;
  /* Força contraste máximo em subtextos */
}

/* 3. MODO SURDO / AUDITIVOS - Feedback Visual de Som */
.acc-surdo .notification-dot,
.acc-auditivo .notification-dot {
  animation: pulse-visual-alert 1.5s infinite !important;
}

@keyframes pulse-visual-alert {
  0% {
    box-shadow: 0 0 0 0px rgba(59, 130, 246, 0.7);
  }

  70% {
    box-shadow: 0 0 0 15px rgba(59, 130, 246, 0);
  }

  100% {
    box-shadow: 0 0 0 0px rgba(59, 130, 246, 0);
  }
}

/* 4. MODO TDAH (FOCO TOTAL) - Higiene Visual */
.acc-tdah * {
  animation: none !important;
  transition: none !important;
}

.acc-tdah .bg-primary\/10,
.acc-tdah .bg-orange-100,
.acc-tdah .bg-indigo-100 {
  background-color: #f1f5f9 !important;
  /* Cores neutras para não desviar o olho */
}

.acc-tdah [class*="badge"],
.acc-tdah [class*="Premium"] {
  display: none !important;
  /* Esconde selos de "Premium" ou badges coloridos desnecessários */
}

.acc-tdah .decorative-element {
  opacity: 0 !important;
}

.acc-tdah input:focus,
.acc-tdah button:focus {
  border-width: 3px !important;
  border-color: var(--primary) !important;
}

/* 5. ALTO CONTRASTE (WCAG AAA - PREMIUM REDESIGN) */
.acc-contraste {
  background-color: #000000 !important;
  color: #FFFFFF !important;
}

/* Base elements */
.acc-contraste body,
.acc-contraste #root,
.acc-contraste main {
  background-color: #000000 !important;
}

/* Cards, Containers and Sections */
.acc-contraste .bg-white,
.acc-contraste .bg-slate-50,
.acc-contraste .bg-slate-800,
.acc-contraste .bg-slate-900,
.acc-contraste header,
.acc-contraste nav,
.acc-contraste aside {
  background-color: #000000 !important;
  border: 3px solid #FFFFFF !important;
  /* Bordas mais grossas e brancas */
  box-shadow: none !important;
}

/* Typography - Yellow for information, White for static text */
.acc-contraste p,
.acc-contraste span:not(.text-primary),
.acc-contraste label,
.acc-contraste td,
.acc-contraste th {
  color: #FFFFFF !important;
}

.acc-contraste h1,
.acc-contraste h2,
.acc-contraste h3,
.acc-contraste h4,
.acc-contraste strong {
  color: #FFFF00 !important;
  /* Amarelo vibrante para destaques */
  font-weight: 900 !important;
}

/* Global Icons */
.acc-contraste svg {
  stroke: #FFFF00 !important;
  fill: none !important;
}

/* Interactive Elements - Primary Actions */
.acc-contraste .bg-primary,
.acc-contraste .btn-primary,
.acc-contraste button[class*="bg-primary"] {
  background-color: #FFFF00 !important;
  color: #000000 !important;
  border: 4px solid #000000 !important;
  font-weight: 900 !important;
  text-transform: uppercase !important;
}

/* Secondary Buttons and Inputs */
.acc-contraste button,
.acc-contraste input,
.acc-contraste select,
.acc-contraste textarea {
  background-color: #000000 !important;
  color: #FFFFFF !important;
  border: 3px solid #FFFFFF !important;
  border-radius: 4px !important;
  /* Formas mais quadradas e nítidas */
}

.acc-contraste input::placeholder {
  color: #aaaaaa !important;
}

/* Hover States */
.acc-contraste button:hover,
.acc-contraste a:hover {
  background-color: #FFFF00 !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

.acc-contraste button:hover svg {
  stroke: #000000 !important;
}

/* Focus States */
.acc-contraste *:focus {
  outline: 6px solid #00FFFF !important;
  /* Ciano Elétrico para foco no alto contraste */
  outline-offset: 4px !important;
}

/* Tables and Lists */
.acc-contraste table {
  border-collapse: separate !important;
  border-spacing: 0 8px !important;
}

.acc-contraste tr {
  border: 2px solid #FFFFFF !important;
}

.acc-contraste .text-primary {
  color: #FFFF00 !important;
}

/* Links */
.acc-contraste a {
  color: #00FFFF !important;
  /* Links em Ciano para destaque */
  text-decoration: underline !important;
  font-weight: bold !important;
}

/* Sidebar Specifics */
.acc-contraste aside [class*="active"] {
  background-color: #FFFF00 !important;
  color: #000000 !important;
  border: none !important;
}

.acc-contraste aside [class*="active"] svg {
  stroke: #000000 !important;
}

/* 6. ESCALA DE CINZA */
.acc-grayscale {
  filter: grayscale(100%) !important;
}

html.acc-grayscale {
  filter: grayscale(100%) !important;
}

/* 7. CONTRASTE NEGATIVO */
.acc-negative {
  filter: invert(100%) hue-rotate(180deg) !important;
}

html.acc-negative {
  filter: invert(100%) hue-rotate(180deg) !important;
}

.acc-negative img,
.acc-negative video {
  filter: invert(100%) hue-rotate(180deg) !important;
  /* Reverte para imagens e videos */
}

/* 8. LINKS SUBLINHADOS */
.acc-underlineLinks a,
.acc-underlineLinks button {
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 4px !important;
}

/* 9. FONTE LEGÍVEL */
.acc-readableFont * {
  font-family: Arial, Helvetica, sans-serif !important;
  word-spacing: 0.1rem !important;
  letter-spacing: 0.05rem !important;
  line-height: 1.6 !important;
}

/* 10. CURSOR AMPLIADO */
.acc-bigCursor,
.acc-bigCursor * {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewport="0 0 48 48" style="fill:black;stroke:white;stroke-width:2px;transform:rotate(-45deg);"><path d="M0,0 L0,36 L8,24 L20,36 L24,32 L12,20 L24,20 Z" /></svg>'), auto !important;
}

/* 11. PAUSA EM ANIMAÇÕES */
.acc-pauseAnimations *,
.acc-pauseAnimations *:before,
.acc-pauseAnimations *:after {
  animation-play-state: paused !important;
  transition: none !important;
}

/* 12. DALTONISMO & FILTROS DE COR */
.acc-protanopia {
  filter: url('#protanopia-filter') !important;
}

.acc-deuteranopia {
  filter: url('#deuteranopia-filter') !important;
}

.acc-tritanopia {
  filter: url('#tritanopia-filter') !important;
}

/* 13. FOCUS & KEYBOARD */
.acc-keyboardFocus *:focus-visible {
  outline: 4px solid #F59E0B !important;
  outline-offset: 4px !important;
  box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.8) !important;
}

/* --- NOVOS RECURSOS (SETUP COMPLETO) --- */

/* 14. MODO DISLEXIA */
/* Using a locally defined font-face or a system fallback that mimics it */
/* Note: For real OpenDyslexic, we need the woff2 file. I will use Comic Sans MS as a universally available fallback that is often cited as dyslexia-friendly due to unique letter shapes. */
.acc-dyslexia * {
  font-family: 'Comic Sans MS', 'Chalkboard SE', 'Comic Neue', sans-serif !important;
  line-height: 1.8 !important;
  word-spacing: 0.2em !important;
}

/* 15. ESPAÇAMENTO AJUSTÁVEL */
.acc-spacing-wide * {
  line-height: 2 !important;
  letter-spacing: 0.1em !important;
  word-spacing: 0.2em !important;
}

.acc-spacing-extra-wide * {
  line-height: 2.5 !important;
  letter-spacing: 0.2em !important;
  word-spacing: 0.4em !important;
}

/* 16. MODO SIMPLIFICADO */
.acc-simplified .decorative,
.acc-simplified .bg-gradient-to-r,
.acc-simplified .bg-gradient-to-b,
.acc-simplified [class*="gradient"] {
  background: none !important;
  background-color: var(--bg-primary) !important;
  background-image: none !important;
}

.acc-simplified img {
  opacity: 0.8;
}

/* 17. BOTÕES GIGANTES (MOTOR) */
.acc-giantButtons button,
.acc-giantButtons a[href],
.acc-giantButtons [role="button"] {
  padding: 1.5rem 2rem !important;
  font-size: 1.25rem !important;
  min-height: 64px !important;
  min-width: 64px !important;
  margin: 4px !important;
}

/* 18. MODO ANTI-ANSIEDADE */
.acc-antiAnxiety {
  --primary: #5b7c99 !important;
  /* Muted Blue */
  --secondary: #8e9aaf !important;
  background-color: #f0f4f8 !important;
  /* Soft Gray-Blue */
}

.acc-antiAnxiety * {
  animation: none !important;
  transition: none !important;
  box-shadow: none !important;
  border-radius: 8px !important;
  /* Softer, slightly rounded but stable */
}

/* 19. BRIGHTNESS OVERLAY (Handled in Context via inline style div, but reset hints here) */

/* 10. CURSOR AMPLIADO */
.acc-bigCursor,
.acc-bigCursor * {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewport="0 0 48 48" style="fill:black;stroke:white;stroke-width:2px;transform:rotate(-45deg);"><path d="M0,0 L0,36 L8,24 L20,36 L24,32 L12,20 L24,20 Z" /></svg>'), auto !important;
}

/* 11. PAUSA EM ANIMAÇÕES */
.acc-pauseAnimations *,
.acc-pauseAnimations *:before,
.acc-pauseAnimations *:after {
  animation-play-state: paused !important;
  transition: none !important;
}

/* 12. DALTONISMO & FILTROS DE COR */
/* Protanopia (Red-Blind) */
.acc-protanopia {
  filter: url('#protanopia-filter') !important;
}

/* Deuteranopia (Green-Blind) */
.acc-deuteranopia {
  filter: url('#deuteranopia-filter') !important;
}

/* Tritanopia (Blue-Blind) */
.acc-tritanopia {
  filter: url('#tritanopia-filter') !important;
}

/* 13. MODO LEITURA (SIMPLIFICAÇÃO) */
.acc-readingGuide {
  /* Requires JS overlay, just a marker class */
}

/* 14. Destaque de Foco (Teclado) */
.acc-keyboardFocus *:focus-visible {
  outline: 4px solid #F59E0B !important;
  /* Amber-500 */
  outline-offset: 4px !important;
  box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.8) !important;
}