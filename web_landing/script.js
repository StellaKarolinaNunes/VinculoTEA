const translations = {
    pt: {
        "nav.solutions": "Soluções",
        "nav.howItWorks": "Como Funciona",
        "nav.benefits": "Benefícios",
        "nav.plans": "Planos",
        "nav.contact": "Contato",
        "hero.headline": "Transforme a Educação Inclusiva com Gestão Inteligente",
        "hero.subheadline": "A plataforma SaaS multidisciplinar completa que conecta escolas, famílias e especialistas em um único ambiente seguro.",
        "hero.ctaPrimary": "Solicitar Demo",
        "hero.ctaSecondary": "Ver Planos",
        "why.title": "Por que escolher o VinculoTEA?",
        "why.subtitle": "Inovação e cuidado em cada detalhe.",
        "why.card1.title": "Gestão Centralizada de PEI",
        "why.card1.desc": "Elabore, monitore e atualize o Plano de Ensino Individualizado com facilidade e precisão.",
        "why.card2.title": "Ambiente Seguro e Compliance",
        "why.card2.desc": "Segurança de dados nível bancário e conformidade total com a LGPD.",
        "why.card3.title": "Colaboração em Tempo Real",
        "why.card3.desc": "Conecte família, escola e terapeutas instantaneamente.",
        "why.card4.title": "Insights Baseados em Dados",
        "why.card4.desc": "Relatórios detalhados para acompanhar o progresso real do aluno.",
        "how.title": "Veja como é simples usar o VinculoTEA",
        "how.step1.title": "Cadastre sua Escola",
        "how.step1.desc": "Configure sua instituição e personalize o ambiente.",
        "how.step2.title": "Adicione Alunos e Especialistas",
        "how.step2.desc": "Crie perfis completos e convide a equipe multidisciplinar.",
        "how.step3.title": "Gerencie o PEI",
        "how.step3.desc": "Defina metas, estratégias e acompanhe a evolução.",
        "how.step4.title": "Monitore o Progresso",
        "how.step4.desc": "Acompanhe métricas e evolução em tempo real.",
        "how.step5.title": "Gere Relatórios",
        "how.step5.desc": "Exporte insights valiosos para todas as partes interessadas.",
        "benefits.title": "Benefícios que Transformam",
        "benefits.item1.title": "Comunicação Integrada",
        "benefits.item1.desc": "Elimine ruídos e centralize todas as informações importantes.",
        "benefits.item2.title": "Segurança de Dados",
        "benefits.item2.desc": "Seus dados protegidos com a mais alta tecnologia de criptografia.",
        "benefits.item3.title": "Análise de Performance",
        "benefits.item3.desc": "Entenda o impacto das intervenções com dados claros.",
        "benefits.item4.title": "Automação Inteligente",
        "benefits.item4.desc": "Economize tempo em processos burocráticos e foque no aluno.",
        "target.title": "Para quem é o VinculoTEA?",
        "target.schools": "Escolas Inclusivas",
        "target.clinics": "Clínicas Especializadas",
        "target.therapists": "Terapeutas",
        "target.networks": "Redes de Ensino",
        "story.title": "Nossa História",
        "story.subtitle": "Como o projeto surgiu?",
        "story.desc": "O VinculoTEA nasceu da necessidade real de fechar as lacunas de comunicação na educação inclusiva. Observando a dificuldade de alinhar escola, família e terapeutas, criamos uma solução que não apenas gerencia, mas conecta e humaniza todo o processo de inclusão escolar.",
        "team.title": "Nossa Equipe",
        "team.subtitle": "Expertise multidisciplinar a serviço da inclusão.",
        "team.join": "Quer fazer parte da equipe?",
        "team.cta": "Trabalhe Conosco",
        "testimonials.title": "Depoimentos",
        "testimonials.t1.text": "\"O VinculoTEA transformou a maneira como acompanhamos nossos alunos. A comunicação com as famílias melhorou 100%.\"",
        "testimonials.t2.text": "\"Finalmente uma ferramenta que entende as necessidades reais do PEI. Intuitiva e completa.\"",
        "plans.title": "Planos",
        "plans.subtitle": "Escolha a melhor opção para sua instituição.",
        "plans.bronze.name": "Bronze (Essencial)",
        "plans.silver.name": "Prata (Crescimento)",
        "plans.gold.name": "Ouro (Profissional)",
        "plans.elite.name": "Elite (Personalizado)",
        "plans.cta": "Começar Agora",
        "plans.ctaProposal": "Solicitar Proposta",
        "plans.popular": "Popular",
        "plans.bronze.profit": "Lucro Est. ~85%",
        "plans.silver.profit": "Lucro Est. ~90%",
        "plans.gold.profit": "Lucro Est. ~92%",
        "plans.elite.profit": "Lucro Est. Altíssimo",
        "faq.title": "Perguntas Frequentes",
        "faq.q1": "Como funciona a implementação?",
        "faq.a1": "Nossa equipe auxilia em todo o processo de setup inicial e treinamento.",
        "faq.q2": "Os dados são seguros?",
        "faq.a2": "Sim, seguimos rigorosamente a LGPD com criptografia de ponta a ponta.",
        "faq.q3": "Posso cancelar quando quiser?",
        "faq.a3": "Sim, nossos planos não possuem fidelidade, exceto contratos enterprise específicos.",
        "about.title": "Sobre Nós",
        "about.desc": "Somos uma empresa dedicada a transformar a educação inclusiva através da tecnologia. Acreditamos que cada aluno merece um acompanhamento personalizado e eficiente.",
        "contact.title": "Contato",
        "contact.desc": "Estamos prontos para atender você.",
        "footer.privacy": "Privacidade",
        "footer.terms": "Termos"
    },
    en: {
        "nav.solutions": "Solutions",
        "nav.howItWorks": "How It Works",
        "nav.benefits": "Benefits",
        "nav.plans": "Plans",
        "nav.contact": "Contact",
        "hero.headline": "Transform Inclusive Education with Intelligent Management",
        "hero.subheadline": "The complete multidisciplinary SaaS platform connecting schools, families, and specialists in one secure environment.",
        "hero.ctaPrimary": "Request Demo",
        "hero.ctaSecondary": "View Plans",
        "why.title": "Why Choose VinculoTEA?",
        "why.subtitle": "Innovation and care in every detail.",
        "why.card1.title": "Centralized IEP Management",
        "why.card1.desc": "Create, monitor, and update Individualized Education Plans with ease and precision.",
        "why.card2.title": "Secure Environment & Compliance",
        "why.card2.desc": "Bank-level data security and full GDPR compliance.",
        "why.card3.title": "Real-Time Collaboration",
        "why.card3.desc": "Connect family, school, and therapists instantly.",
        "why.card4.title": "Data-Driven Insights",
        "why.card4.desc": "Detailed reports to track real student progress.",
        "how.title": "See how simple VinculoTEA is",
        "how.step1.title": "Register your School",
        "how.step1.desc": "Configure your institution and customize the environment.",
        "how.step2.title": "Add Students and Specialists",
        "how.step2.desc": "Create complete profiles and invite the multidisciplinary team.",
        "how.step3.title": "Manage the IEP",
        "how.step3.desc": "Define goals, strategies, and track evolution.",
        "how.step4.title": "Monitor Progress",
        "how.step4.desc": "Track metrics and evolution in real time.",
        "how.step5.title": "Generate Reports",
        "how.step5.desc": "Export valuable insights for all stakeholders.",
        "benefits.title": "Benefits that Transform",
        "benefits.item1.title": "Integrated Communication",
        "benefits.item1.desc": "Eliminate noise and centralize all important information.",
        "benefits.item2.title": "Data Security",
        "benefits.item2.desc": "Your data protected with the highest encryption technology.",
        "benefits.item3.title": "Performance Analysis",
        "benefits.item3.desc": "Understand the impact of interventions with clear data.",
        "benefits.item4.title": "Intelligent Automation",
        "benefits.item4.desc": "Save time on bureaucratic processes and focus on the student.",
        "target.title": "Who is VinculoTEA For?",
        "target.schools": "Inclusive Schools",
        "target.clinics": "Specialized Clinics",
        "target.therapists": "Therapists",
        "target.networks": "Educational Networks",
        "story.title": "Our Story",
        "story.subtitle": "How did the project start?",
        "story.desc": "VinculoTEA was born from the real need to bridge communication gaps in inclusive education. Observing the difficulty in aligning school, family, and therapists, we created a solution that not only manages but connects and humanizes the entire school inclusion process.",
        "team.title": "Our Team",
        "team.subtitle": "Multidisciplinary expertise at the service of inclusion.",
        "team.join": "Want to join the team?",
        "team.cta": "Work With Us",
        "testimonials.title": "Testimonials",
        "testimonials.t1.text": "\"VinculoTEA transformed how we track our students. Communication with families improved 100%.\"",
        "testimonials.t2.text": "\"Finally a tool that understands the real needs of the IEP. Intuitive and complete.\"",
        "plans.title": "Plans",
        "plans.subtitle": "Choose the best option for your institution.",
        "plans.bronze.name": "Bronze (Essential)",
        "plans.silver.name": "Silver (Growth)",
        "plans.gold.name": "Gold (Professional)",
        "plans.elite.name": "Elite (Custom)",
        "plans.cta": "Start Now",
        "plans.ctaProposal": "Request Proposal",
        "plans.popular": "Popular",
        "plans.bronze.profit": "Est. Profit ~85%",
        "plans.silver.profit": "Est. Profit ~90%",
        "plans.gold.profit": "Est. Profit ~92%",
        "plans.elite.profit": "Est. Profit High",
        "faq.title": "Frequently Asked Questions",
        "faq.q1": "How does implementation work?",
        "faq.a1": "Our team assists with the entire initial setup and training process.",
        "faq.q2": "Is the data secure?",
        "faq.a2": "Yes, we strictly follow GDPR with end-to-end encryption.",
        "faq.q3": "Can I cancel anytime?",
        "faq.a3": "Yes, our plans have no loyalty clauses, except for specific enterprise contracts.",
        "about.title": "About Us",
        "about.desc": "We are a company dedicated to transforming inclusive education through technology. We believe every student deserves personalized and efficient support.",
        "contact.title": "Contact",
        "contact.desc": "We are ready to assist you.",
        "footer.privacy": "Privacy",
        "footer.terms": "Terms"
    },
    es: {
        "nav.solutions": "Soluciones",
        "nav.howItWorks": "Cómo Funciona",
        "nav.benefits": "Beneficios",
        "nav.plans": "Planes",
        "nav.contact": "Contacto",
        "hero.headline": "Transforme la Educación Inclusiva con Gestión Inteligente",
        "hero.subheadline": "La plataforma SaaS multidisciplinaria completa que conecta escuelas, familias y especialistas en un entorno seguro.",
        "hero.ctaPrimary": "Solicitar Demo",
        "hero.ctaSecondary": "Ver Planes",
        "why.title": "¿Por qué elegir VinculoTEA?",
        "why.subtitle": "Innovación y cuidado en cada detalle.",
        "why.card1.title": "Gestión Centralizada de PEI",
        "why.card1.desc": "Elabore, monitoree y actualice el Plan de Enseñanza Individualizado con facilidad y precisión.",
        "why.card2.title": "Entorno Seguro y Cumplimiento",
        "why.card2.desc": "Seguridad de datos de nivel bancario y cumplimiento total con la LGPD.",
        "why.card3.title": "Colaboración en Tiempo Real",
        "why.card3.desc": "Conecte familia, escuela y terapeutas instantáneamente.",
        "why.card4.title": "Insights Basados en Datos",
        "why.card4.desc": "Informes detallados para seguir el progreso real del alumno.",
        "how.title": "Vea lo simple que es usar VinculoTEA",
        "how.step1.title": "Registre su Escuela",
        "how.step1.desc": "Configure su institución y personalice el entorno.",
        "how.step2.title": "Agregue Alumnos y Especialistas",
        "how.step2.desc": "Crea perfiles completos e invite al equipo multidisciplinario.",
        "how.step3.title": "Gestione el PEI",
        "how.step3.desc": "Defina metas, estrategias y acompañe la evolución.",
        "how.step4.title": "Monitoree el Progreso",
        "how.step4.desc": "Siga métricas y evolución en tiempo real.",
        "how.step5.title": "Genere Informes",
        "how.step5.desc": "Exporte insights valiosos para todas las partes interesadas.",
        "benefits.title": "Beneficios que Transforman",
        "benefits.item1.title": "Comunicación Integrada",
        "benefits.item1.desc": "Elimine ruidos y centralice toda la información importante.",
        "benefits.item2.title": "Seguridad de Datos",
        "benefits.item2.desc": "Sus datos protegidos con la más alta tecnología de encriptación.",
        "benefits.item3.title": "Análisis de Rendimiento",
        "benefits.item3.desc": "Entienda el impacto de las intervenciones con datos claros.",
        "benefits.item4.title": "Automatización Inteligente",
        "benefits.item4.desc": "Ahorre tiempo en procesos burocráticos y concéntrese en el alumno.",
        "target.title": "¿Para quién es VinculoTEA?",
        "target.schools": "Escuelas Inclusivas",
        "target.clinics": "Clínicas Especializadas",
        "target.therapists": "Terapeutas",
        "target.networks": "Redes Educativas",
        "story.title": "Nuestra Historia",
        "story.subtitle": "¿Cómo surgió el proyecto?",
        "story.desc": "VinculoTEA nació de la necesidad real de cerrar las brechas de comunicación en la educación inclusiva. Observando la dificultad de alinear escuela, familia y terapeutas, creamos una solución que no solo gestiona, sino que conecta y humaniza todo el proceso de inclusión escolar.",
        "team.title": "Nuestro Equipo",
        "team.subtitle": "Experiencia multidisciplinaria al servicio de la inclusión.",
        "team.join": "¿Quiere ser parte del equipo?",
        "team.cta": "Trabaje Con Nosotros",
        "testimonials.title": "Testimonios",
        "testimonials.t1.text": "\"VinculoTEA transformó la manera en que acompañamos a nuestros alumnos. La comunicación con las familias mejoró 100%.\"",
        "testimonials.t2.text": "\"Finalmente una herramienta que entiende las necesidades reales del PEI. Intuitiva y completa.\"",
        "plans.title": "Planes",
        "plans.subtitle": "Elija la mejor opción para su institución.",
        "plans.bronze.name": "Bronce (Esencial)",
        "plans.silver.name": "Plata (Crecimiento)",
        "plans.gold.name": "Oro (Profesional)",
        "plans.elite.name": "Elite (Personalizado)",
        "plans.cta": "Comenzar Ahora",
        "plans.ctaProposal": "Solicitar Propuesta",
        "plans.popular": "Popular",
        "plans.bronze.profit": "Ben. Est. ~85%",
        "plans.silver.profit": "Ben. Est. ~90%",
        "plans.gold.profit": "Ben. Est. ~92%",
        "plans.elite.profit": "Ben. Est. Altísimo",
        "faq.title": "Preguntas Frecuentes",
        "faq.q1": "¿Cómo funciona la implementación?",
        "faq.a1": "Nuestro equipo asiste en todo el proceso de configuración inicial y capacitación.",
        "faq.q2": "¿Los datos son seguros?",
        "faq.a2": "Sí, seguimos rigurosamente la LGPD con encriptación de extremo a extremo.",
        "faq.q3": "¿Puedo cancelar cuando quiera?",
        "faq.a3": "Sí, nuestros planes no tienen fidelidad, excepto contratos enterprise específicos.",
        "about.title": "Sobre Nosotros",
        "about.desc": "Somos una empresa dedicada a transformar la educación inclusiva a través de la tecnología. Creemos que cada alumno merece un acompañamiento personalizado y eficiente.",
        "contact.title": "Contacto",
        "contact.desc": "Estamos listos para atenderle.",
        "footer.privacy": "Privacidad",
        "footer.terms": "Términos"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    // Internationalization
    const langBtns = document.querySelectorAll('.lang-btn');
    const updateLanguage = (lang) => {
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });

        // Update active class
        langBtns.forEach(btn => {
            if (btn.dataset.lang === lang) btn.classList.add('active');
            else btn.classList.remove('active');
        });

        document.documentElement.lang = lang;
    };

    langBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            updateLanguage(btn.dataset.lang);
        });
    });

    // Dark Mode Toggle
    const themeToggle = document.getElementById('theme-toggle');
    const currentTheme = localStorage.getItem('theme');

    // Initialize Theme
    if (currentTheme) {
        document.documentElement.setAttribute('data-theme', currentTheme);
        if (currentTheme === 'dark') {
            themeToggle.innerHTML = '<i data-lucide="sun" class="icon-sm"></i>';
            // We need to re-run createIcons to render this specific new icon
            // but we can just wait since we might run it globally or let the inline script handle the rest? 
            // Actually, if we run after inline script, we need to call it.
            // But let's just let it be, and call createIcons() at the end of this block if we changed it.
            lucide.createIcons();
        }
    }

    themeToggle.addEventListener('click', () => {
        const theme = document.documentElement.getAttribute('data-theme');
        const nextTheme = theme === 'dark' ? 'light' : 'dark';

        document.documentElement.setAttribute('data-theme', nextTheme);
        localStorage.setItem('theme', nextTheme);

        if (nextTheme === 'dark') {
            themeToggle.innerHTML = '<i data-lucide="sun" class="icon-sm"></i>';
        } else {
            themeToggle.innerHTML = '<i data-lucide="moon" class="icon-sm"></i>';
        }
        lucide.createIcons();
    });

    // FAQ Accordion
    const faqItems = document.querySelectorAll('.faq-question');
    faqItems.forEach(item => {
        item.addEventListener('click', () => {
            const parent = item.parentElement;
            parent.classList.toggle('active');

            // Optional: Close others
            /* document.querySelectorAll('.faq-item').forEach(other => {
                if(other !== parent) other.classList.remove('active');
            }); */

            const icon = item.querySelector('i');
            if (parent.classList.contains('active')) {
                icon.style.transform = 'rotate(180deg)';
            } else {
                icon.style.transform = 'rotate(0deg)';
            }
        });
    });

    // Scroll Animation (Reveal)
    const revealElements = document.querySelectorAll('.reveal');
    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
            }
        });
    }, { threshold: 0.1 });

    revealElements.forEach(el => revealObserver.observe(el));

    // Navbar Scroll Effect
    const navbar = document.querySelector('.navbar');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            navbar.style.boxShadow = '0 4px 6px -1px rgba(0,0,0,0.1)';
        } else {
            navbar.style.boxShadow = 'none';
        }
    });

    // Mobile Menu
    const mobileBtn = document.querySelector('.mobile-menu-btn');
    const navMenu = document.querySelector('.nav-menu');
    const navLinks = document.querySelectorAll('.nav-link');

    if (mobileBtn) {
        mobileBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            // Toggle icon between Menu and X
            const icon = mobileBtn.querySelector('i');
            if (navMenu.classList.contains('active')) {
                icon.setAttribute('data-lucide', 'x');
            } else {
                icon.setAttribute('data-lucide', 'menu');
            }
            lucide.createIcons();
        });
    }

    // Close mobile menu when a link is clicked
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                mobileBtn.querySelector('i').setAttribute('data-lucide', 'menu');
                lucide.createIcons();
            }
        });
    });
});
